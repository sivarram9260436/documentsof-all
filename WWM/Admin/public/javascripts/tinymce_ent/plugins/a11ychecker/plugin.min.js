!function(){var a={},b=function(b){for(var c=a[b],e=c.deps,f=c.defn,g=e.length,h=new Array(g),i=0;g>i;++i)h[i]=d(e[i]);var j=f.apply(null,h);if(void 0===j)throw"module ["+b+"] returned undefined";c.instance=j},c=function(b,c,d){if("string"!=typeof b)throw"module id must be a string";if(void 0===c)throw"no dependencies for "+b;if(void 0===d)throw"no definition function for "+b;a[b]={deps:c,defn:d,instance:void 0}},d=function(c){var d=a[c];if(void 0===d)throw"module ["+c+"] was undefined";return void 0===d.instance&&b(c),d.instance},e=function(a,b){for(var c=a.length,e=new Array(c),f=0;c>f;++f)e.push(d(a[f]));b.apply(null,b)},f={};f.bolt={module:{api:{define:c,require:e,demand:d}}};var g=c,h=function(a,b){g(a,[],function(){return b})};h("p",Array),h("q",String),g("6",["p","q"],function(a,b){var c=function(a){return function(b){return a===b}},d=function(){var b=a.prototype.indexOf,d=function(a,c){return b.call(a,c)},e=function(a,b){return r(a,c(b))};return void 0===b?e:d}(),e=function(a,b){return d(a,b)>-1},f=function(a,b){return r(a,b)>-1},g=function(a,b){for(var c=[],d=0;d<a.length;d+=b){var e=a.slice(d,d+b);c.push(e)}return c},h=function(b,c){for(var d=b.length,e=new a(d),f=0;d>f;f++){var g=b[f];e[f]=c(g,f,b)}return e},i=function(a,b){for(var c=0,d=a.length;d>c;c++){var e=a[c];b(e,c,a)}},j=function(a,b){for(var c=[],d=[],e=0,f=a.length;f>e;e++){var g=a[e],h=b(g,e,a)?c:d;h.push(g)}return{pass:c,fail:d}},k=function(a,b){for(var c=[],d=0,e=a.length;e>d;d++){var f=a[d];b(f,d,a)&&c.push(f)}return c},l=function(a,b){if(0===a.length)return[];for(var c=b(a[0]),d=[],e=[],f=0,g=a.length;g>f;f++){var h=a[f],i=b(h);i!==c&&(d.push(e),e=[]),c=i,e.push(h)}return 0!==e.length&&d.push(e),d},m=function(a,b,c){return n(z(a),b,c)},n=function(a,b,c){return i(a,function(a){c=b(c,a)}),c},o=function(a,b){for(var c=0,d=a.length;d>c;c++){var e=a[c];if(b(e,c,a))return e}},p=function(a,b,c){var d=o(a,b);return void 0!==d?d:c},q=function(a,c,d){var e=o(a,c);if(void 0===e)throw d||"Could not find element in array: "+b(a);return e},r=function(a,b){for(var c=b||v,d=0,e=a.length;e>d;++d)if(c(a[d])===!0)return d;return-1},s=a.prototype.push,t=function(a){for(var b=[],c=0,d=a.length;d>c;++c)s.apply(b,a[c]);return b},u=function(a,b){var c=h(a,b);return t(c)},v=c(!0),w=function(a,b){for(var c=b||v,d=0,e=a.length;e>d;++d)if(c(a[d],d)!==!0)return!1;return!0},x=function(a,b){return a.length===b.length&&w(a,function(a,c){return a===b[c]})},y=a.prototype.slice,z=function(a){var b=y.call(a,0);return b.reverse(),b},A=function(a,b){return k(a,function(a){return!e(b,a)})},B=function(a,c){for(var d={},e=0,f=a.length;f>e;e++){var g=a[e];d[b(g)]=c(g,e)}return d},C=function(a){return[a]};return{map:h,each:i,partition:j,filter:k,groupBy:l,indexOf:d,foldr:m,foldl:n,find:o,findIndex:r,findOr:p,findOrDie:q,flatten:t,bind:u,forall:w,exists:f,contains:e,equal:x,reverse:z,chunk:g,difference:A,mapToObject:B,pure:C}}),g("v",["p"],function(a){var b=function(){},c=function(a,b){return function(){return a(b.apply(null,arguments))}},d=function(a){return function(){return a}},e=function(a){return a},f=function(a,b){return a===b},g=function(b){for(var c=new a(arguments.length-1),d=1;d<arguments.length;d++)c[d-1]=arguments[d];return function(){for(var d=new a(arguments.length),e=0;e<d.length;e++)d[e]=arguments[e];var f=c.concat(d);return b.apply(null,f)}},h=function(a){return function(){return!a.apply(null,arguments)}},i=function(a){return function(){throw a}},j=function(a){return a()},k=function(a){a()};return{noop:b,compose:c,constant:d,identity:e,tripleEquals:f,curry:g,not:h,die:i,apply:j,call:k}}),h("1d",Object),g("w",["v","1d"],function(a,b){var c=a.constant(!1),d=a.constant(!0),e=function(){return f},f=function(){var f=function(a){return a.isNone()},g=function(a){return a()},h=function(a){return a},i={fold:function(a,b){return a()},is:c,isSome:c,isNone:d,getOr:h,getOrThunk:g,getOrDie:function(a){throw a||"error: getOrDie called on none."},or:h,orThunk:g,map:e,ap:e,each:e,bind:e,flatten:e,exists:c,forall:d,filter:e,equals:f,equals_:f,toArray:function(){return[]},toString:a.constant("none()")};return b.freeze&&b.freeze(i),i}(),g=function(a){var b=function(){return a},h=function(){return k},i=function(b){return g(b(a))},j=function(b){return b(a)},k={fold:function(b,c){return c(a)},is:function(b){return a===b},isSome:d,isNone:c,getOr:b,getOrThunk:b,getOrDie:b,or:h,orThunk:h,map:i,ap:function(b){return b.fold(e,function(b){return g(b(a))})},each:i,bind:j,flatten:b,exists:j,forall:j,filter:function(b){return b(a)?k:f},equals:function(b){return b.is(a)},equals_:function(b,d){return b.fold(c,function(b){return d(a,b)})},toArray:function(){return[a]},toString:function(){return"some("+a+")"}};return k},h=function(a){return null===a||void 0===a?f:g(a)},i=function(a,b){return a.equals(b)},j=function(a,b,c){return a.equals_(b,c)};return{some:g,none:e,from:h,equals:i,equals_:j}}),g("x",["v","w"],function(a,b){var c=function(a){return e(function(b,c){return c(a)})},d=function(a){return e(function(b,c){return b(a)})},e=function(e){var f=function(b){return e(a.constant(!1),function(a){return a===b})},g=function(){return e(a.constant(!1),a.constant(!0))},h=a.not(g),i=function(b){return e(a.constant(b),a.identity)},j=function(b){return e(b,a.identity)},k=function(){return e(function(b){a.die(b)()},a.identity)},l=function(b){return e(a.constant(b),c)},m=function(a){return e(a,c)},n=function(a){return p(function(b){return c(a(b))})},o=n,p=function(a){return e(d,a)},q=function(b){return e(a.constant(!1),b)},r=function(b){return e(a.constant(!0),b)},s=function(){return e(b.none,b.some)};return{is:f,isValue:g,isError:h,getOr:i,getOrThunk:j,getOrDie:k,or:l,orThunk:m,fold:e,map:n,each:o,bind:p,exists:q,forall:r,toOption:s}};return{value:c,error:d}}),h("12",Error),g("13",[],function(){return"undefined"==typeof console&&(console={log:function(){}}),console}),h("o",document),g("j",["v","12","13","o"],function(a,b,c,d){var e=function(a,b){var e=b||d,f=e.createElement("div");if(f.innerHTML=a,!f.hasChildNodes()||f.childNodes.length>1)throw c.error("HTML does not have a single root node",a),"HTML must have a single root node";return h(f.childNodes[0])},f=function(a,b){var c=b||d,e=c.createElement(a);return h(e)},g=function(a,b){var c=b||d,e=c.createTextNode(a);return h(e)},h=function(c){if(null===c||void 0===c)throw new b("Node cannot be null or undefined");return{dom:a.constant(c)}};return{fromHtml:e,fromTag:f,fromText:g,fromDom:h}}),g("z",["p","q"],function(a,b){var c=function(c){if(null===c)return"null";var d=typeof c;return"object"===d&&a.prototype.isPrototypeOf(c)?"array":"object"===d&&b.prototype.isPrototypeOf(c)?"string":d},d=function(a){return function(b){return c(b)===a}};return{isString:d("string"),isObject:d("object"),isArray:d("array"),isNull:d("null"),isBoolean:d("boolean"),isUndefined:d("undefined"),isFunction:d("function"),isNumber:d("number")}}),g("10",["1d"],function(a){var b=function(){var b=a.keys,c=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b};return void 0===b?c:b}(),c=function(a,c){for(var d=b(a),e=0,f=d.length;f>e;e++){var g=d[e],h=a[g];c(h,g,a)}},d=function(a,b){return e(a,function(a,c,d){return{k:c,v:b(a,c,d)}})},e=function(a,b){var d={};return c(a,function(c,e){var f=b(c,e,a);d[f.k]=f.v}),d},f=function(a,b){var d={},e={};return c(a,function(a,c){var f=b(a,c)?d:e;f[c]=a}),{t:d,f:e}},g=function(a,b){var d=[];return c(a,function(a,c){d.push(b(a,c))}),d},h=function(a,c){for(var d=b(a),e=0,f=d.length;f>e;e++){var g=d[e],h=a[g];if(c(h,g,a))return h}},i=function(a){return g(a,function(a){return a})},j=function(a){return i(a).length};return{bifilter:f,each:c,map:d,mapToArray:g,tupleMap:e,find:h,keys:b,values:i,size:j}}),g("1f",["6","10","v","p"],function(a,b,c,d){var e=function(e,f){var g=function(){for(var b=new d(arguments.length),f=0;f<b.length;f++)b[f]=arguments[f];if(e.length!==b.length)throw'Wrong number of arguments to struct. Expected "['+e.length+']", got '+b.length+" arguments";var g={};return a.each(e,function(a,d){g[a]=c.constant(b[d])}),g},h=function(a,b){for(var d=0;d<e.length;d++){var g=f&&f[d]||c.tripleEquals,h=e[d];if(!g(a[h](),b[h]()))return!1}return!0},i=function(a){return b.map(a,function(a){return a()})};return{nu:g,eq:h,evaluate:i}};return{product:e}}),g("1e",["1f"],function(a){return function(){return a.product(arguments).nu}}),g("27",["z","6"],function(a,b){var c=function(a){return a.slice(0).sort()},d=function(a,b){throw"All required keys ("+c(a).join(", ")+") were not specified. Specified keys were: "+c(b).join(", ")+"."},e=function(a){throw"Unsupported keys for object: "+c(a).join(", ")},f=function(c,d){if(!a.isArray(d))throw"The "+c+" fields must be an array. Was: "+d+".";b.each(d,function(b){if(!a.isString(b))throw"The value "+b+" in the "+c+" fields was not a string."})},g=function(a,b){throw"All values need to be of type: "+b+". Keys ("+c(a).join(", ")+") were not."},h=function(a){var d=c(a),e=b.find(d,function(a,b){return b<d.length-1&&a===d[b+1]});if(void 0!==e&&null!==e)throw"The field: "+e+" occurs more than once in the combined fields: ["+d.join(", ")+"]."};return{sort:c,reqMessage:d,unsuppMessage:e,validateStrArr:f,invalidTypeMessage:g,checkDupes:h}}),g("1g",["6","10","v","w","27","1d"],function(a,b,c,d,e,f){return function(g,h){var i=g.concat(h);if(0===i.length)throw"You must specify at least one required or optional field.";return e.validateStrArr("required",g),e.validateStrArr("optional",h),e.checkDupes(i),function(j){var k=b.keys(j),l=a.forall(g,function(b){return a.contains(k,b)});l||e.reqMessage(g,k);var m=a.filter(k,function(b){return!a.contains(i,b)});m.length>0&&e.unsuppMessage(m);var n={};return a.each(g,function(a){n[a]=c.constant(j[a])}),a.each(h,function(a){n[a]=c.constant(f.prototype.hasOwnProperty.call(j,a)?d.some(j[a]):d.none())}),n}}}),g("y",["1e","1f","1g"],function(a,b,c){return{immutable:a,immutable2:b,immutableBag:c}}),g("1h",[],function(){var a=function(a,b){var c=[],d=function(a){return c.push(a),b(a)},e=b(a);do e=e.bind(d);while(e.isSome());return c};return{toArray:a}}),g("1j",[],function(){return{ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12}}),g("15",["1j","6","w","j","12","o"],function(a,b,c,d,e,f){var g=0,h=1,i=2,j=3,k=function(){var a=f.createElement("span");return void 0!==a.matches?g:void 0!==a.msMatchesSelector?h:void 0!==a.webkitMatchesSelector?i:void 0!==a.mozMatchesSelector?j:-1}(),l=a.ELEMENT,m=a.DOCUMENT,n=function(a,b){var c=a.dom();if(c.nodeType!==l)return!1;if(k===g)return c.matches(b);if(k===h)return c.msMatchesSelector(b);if(k===i)return c.webkitMatchesSelector(b);if(k===j)return c.mozMatchesSelector(b);throw new e("Browser lacks native selectors")},o=function(a){return a.nodeType!==l&&a.nodeType!==m||0===a.childElementCount},p=function(a,c){var e=void 0===c?f:c.dom();return o(e)?[]:b.map(e.querySelectorAll(a),d.fromDom)},q=function(a,b){var e=void 0===b?f:b.dom();return o(e)?c.none():c.from(e.querySelector(a)).map(d.fromDom)};return{all:p,is:n,one:q}}),g("1i",["6","v","15"],function(a,b,c){var d=function(a,b){return a.dom()===b.dom()},e=function(c,e){return a.exists(e,b.curry(d,c))};return{eq:d,member:e,is:c.is}}),g("17",["z","6","v","w","y","1h","1i","j"],function(a,b,c,d,e,f,g,h){var i=function(a){return h.fromDom(a.dom().ownerDocument)},j=function(a){var b=i(a);return h.fromDom(b.dom().documentElement)},k=function(a){var b=a.dom(),c=b.ownerDocument.defaultView;return h.fromDom(c)},l=function(a){var b=a.dom();return d.from(b.parentNode).map(h.fromDom)},m=function(a){return l(a).bind(function(c){var e=u(c),f=b.findIndex(e,function(b){return g.eq(a,b)});return f>-1?d.some(f):d.none()})},n=function(b,d){for(var e=a.isFunction(d)?d:c.constant(!1),f=b.dom(),g=[];null!==f.parentNode&&void 0!==f.parentNode;){var i=f.parentNode,j=h.fromDom(i);if(g.push(j),e(j)===!0)break;f=i}return g},o=function(a){var c=function(c){return b.filter(c,function(b){return!g.eq(a,b)})};return l(a).map(u).map(c).getOr([])},p=function(a){var b=a.dom();return d.from(b.offsetParent).map(h.fromDom)},q=function(a){var b=a.dom();return d.from(b.previousSibling).map(h.fromDom)},r=function(a){var b=a.dom();return d.from(b.nextSibling).map(h.fromDom)},s=function(a){return b.reverse(f.toArray(a,q))},t=function(a){return f.toArray(a,r)},u=function(a){var c=a.dom();return b.map(c.childNodes,h.fromDom)},v=function(a,b){var c=a.dom().childNodes;return d.from(c[b]).map(h.fromDom)},w=function(a){return v(a,0)},x=function(a){return v(a,a.dom().childNodes.length-1)},y=e.immutable("element","offset"),z=function(a,b){var c=u(a);return c.length>0&&b<c.length?y(c[b],0):y(a,b)};return{owner:i,defaultView:k,documentElement:j,parent:l,findIndex:m,parents:n,siblings:o,prevSibling:q,offsetParent:p,prevSiblings:s,nextSibling:r,nextSiblings:t,children:u,child:v,firstChild:w,lastChild:x,leaf:z}}),g("k",["17"],function(a){var b=function(b,c){var d=a.parent(b);d.each(function(a){a.dom().insertBefore(c.dom(),b.dom())})},c=function(c,d){var f=a.nextSibling(c);f.fold(function(){var b=a.parent(c);b.each(function(a){e(a,d)})},function(a){b(a,d)})},d=function(b,c){var d=a.firstChild(b);d.fold(function(){e(b,c)},function(a){b.dom().insertBefore(c.dom(),a.dom())})},e=function(a,b){a.dom().appendChild(b.dom())},f=function(c,d,f){a.child(c,f).fold(function(){e(c,d)},function(a){b(a,d)})},g=function(a,c){b(a,c),e(c,a)};return{before:b,after:c,prepend:d,append:e,appendAt:f,wrap:g}}),g("18",["6","k"],function(a,b){var c=function(c,d){a.each(d,function(a){b.before(c,a)})},d=function(c,d){a.each(d,function(a,e){var f=0===e?c:d[e-1];b.after(f,a)})},e=function(c,d){a.each(d.slice().reverse(),function(a){b.prepend(c,a)})},f=function(c,d){a.each(d,function(a){b.append(c,a)})};return{before:c,after:d,prepend:e,append:f}}),g("11",["1j"],function(a){var b=function(a){var b=a.dom().nodeName;return b.toLowerCase()},c=function(a){return a.dom().nodeType},d=function(a){return a.dom().nodeValue},e=function(a){return function(b){return c(b)===a}},f=function(d){return c(d)===a.COMMENT||"#comment"===b(d)},g=e(a.ELEMENT),h=e(a.TEXT),i=e(a.DOCUMENT);return{name:b,type:c,value:d,isElement:g,isText:h,isDocument:i,isComment:f}}),g("l",["18","17"],function(a,b){var c=function(a){a.dom().textContent=""},d=function(a){var b=a.dom();null!==b.parentNode&&b.parentNode.removeChild(b)},e=function(c){var e=b.children(c);e.length>0&&a.before(c,e),d(c)};return{empty:c,remove:d,unwrap:e}}),g("i",["z","6","10","11","12","13"],function(a,b,c,d,e,f){var g=function(b,c,d){if(!(a.isString(d)||a.isBoolean(d)||a.isNumber(d)))throw f.error("Invalid call to Attr.set. Key ",c,":: Value ",d,":: Element ",b),new e("Attribute value was not simple");b.setAttribute(c,d+"")},h=function(a,b,c){g(a.dom(),b,c)},i=function(a,b){var d=a.dom();c.each(b,function(a,b){g(d,b,a)})},j=function(a,b){var c=a.dom().getAttribute(b);return null===c?void 0:c},k=function(a,b){var c=a.dom();return c&&c.hasAttribute?c.hasAttribute(b):!1},l=function(a,b){a.dom().removeAttribute(b)},m=function(a){var b=a.dom().attributes;return void 0===b||null===b||0===b.length},n=function(a){return b.foldl(a.dom().attributes,function(a,b){return a[b.name]=b.value,a},{})},o=function(a,b,c){k(a,c)&&!k(b,c)&&h(b,c,j(a,c))},p=function(a,c,e){d.isElement(a)&&d.isElement(c)&&b.each(e,function(b){o(a,c,b)})};return{clone:n,set:h,setAll:i,get:j,has:k,remove:l,hasNone:m,transfer:p}}),g("1k",["i","j","k","18","l","17"],function(a,b,c,d,e,f){var g=function(a,c){return b.fromDom(a.dom().cloneNode(c))},h=function(a){return g(a,!1)},i=function(a){return g(a,!0)},j=function(c,d){var e=b.fromTag(d),f=a.clone(c);return a.setAll(e,f),e},k=function(a,b){var c=j(a,b),e=f.children(i(a));return d.append(c,e),c},l=function(a,b){var g=j(a,b);c.before(a,g);var h=f.children(a);return d.append(g,h),e.remove(a),g};return{shallow:h,shallowAs:j,deep:i,copy:k,mutate:l}}),g("2h",[],function(){var a=function(a){var b,c=!1;return function(){return c||(c=!0,b=a.apply(null,arguments)),b}};return{cached:a}}),g("28",["2h","j","11","o"],function(a,b,c,d){var e=function(a){var b=c.isText(a)?a.dom().parentNode:a.dom();return void 0!==b&&null!==b&&b.ownerDocument.body.contains(b)},f=a.cached(function(){return g(b.fromDom(d))}),g=function(a){var c=a.dom().body;if(null===c||void 0===c)throw"Body is not available yet";return b.fromDom(c)};return{body:f,getBody:g,inBody:e}}),g("1l",["6","28","17"],function(a,b,c){var d=function(a){return h(b.body(),a)},e=function(b,d,e){return a.filter(c.parents(b,e),d)},f=function(b,d){return a.filter(c.siblings(b),d)},g=function(b,d){return a.filter(c.children(b),d)},h=function(b,d){var e=[];return a.each(c.children(b),function(a){d(a)&&(e=e.concat([a])),e=e.concat(h(a,d))}),e};return{all:d,ancestors:e,siblings:f,children:g,descendants:h}}),g("14",["1l","15"],function(a,b){var c=function(a){return b.all(a)},d=function(c,d,e){return a.ancestors(c,function(a){return b.is(a,d)},e)},e=function(c,d){return a.siblings(c,function(a){return b.is(a,d)})},f=function(c,d){return a.children(c,function(a){return b.is(a,d)})},g=function(a,c){return b.all(c,a)};return{all:c,ancestors:d,siblings:e,children:f,descendants:g}}),g("r",["6","x","j","k","18","11","l","1k","14","17"],function(a,b,c,d,e,f,g,h,i,j){var k=function(f,k){var l=j.owner(f),m=c.fromTag(k,l.dom()),n=j.children(f),o=a.map(n,h.deep);e.append(m,o);var p=i.descendants(m,"b,strong");return a.each(p,g.unwrap),d.before(f,m),g.remove(f),b.value(m)},l=function(a){var d=c.fromDom(a.dom().previousSibling);if(d){var f=j.children(a);e.append(d,f),g.remove(a)}return b.value(d)};return{convertToHeading:k,joinLinks:l}}),g("1m",["v","x"],function(a,b,c){var d=function(a,c){return b.error(c(a))},e=function(a,c,e,f,g,h){return 0===c.length?d(f,h):c===e?d(g,h):b.value(a)};return{invalidError:d,different:e}}),g("s",["1m","i"],function(a,b){var c=function(c,d,e,f,g){var h=b.get(c,"src").split("/").pop();return a.different(c,d,h,e,f,g).map(function(a){return b.set(a,"alt",d),a})};return{changeAlt:c}}),g("1n",["6","j","17","o"],function(a,b,c,d){var e=function(a,e){var f=e||d,g=f.createElement("div");return g.innerHTML=a,c.children(b.fromDom(g))},f=function(c,d){return a.map(c,function(a){return b.fromTag(a,d)})},g=function(c,d){return a.map(c,function(a){return b.fromText(a,d)})},h=function(c){return a.map(c,b.fromDom)};return{fromHtml:e,fromTags:f,fromText:g,fromDom:h}}),g("1o",["j","k"],function(a,b){var c=function(a){return a.dom().innerHTML},d=function(a,b){a.dom().innerHTML=b},e=function(d){var e=a.fromTag("div"),f=a.fromDom(d.dom().cloneNode(!0));return b.append(e,f),c(e)};return{get:c,set:d,getOuter:e}}),g("16",["z","w"],function(a,b){return function(c,d,e,f,g){return c(e,f)?b.some(e):a.isFunction(g)&&g(e)?b.none():d(e,f,g)}}),g("n",["w","14","15","16"],function(a,b,c,d){var e=function(c){return a.from(b.all(c)[0])},f=function(c,d,e){return a.from(b.ancestors(c,d,e)[0])},g=function(c,d){return a.from(b.siblings(c,d)[0])},h=function(c,d){return a.from(b.children(c,d)[0])},i=function(c,d){return a.from(b.descendants(c,d)[0])},j=function(a,b,e){return d(c.is,f,a,b,e)};return{first:e,ancestor:f,sibling:g,child:h,descendant:i,closest:j}}),g("t",["6","1m","v","x","i","j","1n","1o","k","l","14","n"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=function(a,c,d,g,k){var m=e.get(a,"summary");return b.different(a,c,m,d,g,k).map(function(b){var d=l.child(a,"caption").fold(function(){return f.fromTag("caption")},function(a){return j.empty(a),a});return h.set(d,c),i.prepend(b,d),b})},n=function(a,c,d,f,g){var i=l.descendant(a,"caption").map(h.get).getOr("");return b.different(a,c,i,d,f,g).map(function(b){return e.set(a,"summary",c),b})},o=function(b,c){var h=[];if("row"===c){var m=f.fromDom(b.dom().rows[0]);h=k.children(m,"td")}else if("col"===c){var n=g.fromDom(b.dom().rows);a.each(n,function(a){l.child(a,"td").bind(function(a){h.push(a)})})}return a.each(h,function(b){var c=f.fromTag("th");a.each(b.dom().attributes,function(a){e.set(c,a.name,e.get(b,a.name))}),c.dom().innerHTML=b.dom().innerHTML,i.after(b,c),j.remove(b)}),d.value(b)},p=function(a,b){return e.set(a,"scope",b),d.value(a)};return{changeCaption:m,changeSummary:n,setHeaders:o,setScope:p}}),g("1p",[],function(){return function(a,b,c){var d=c||!1,e=function(){b(),d=!0},f=function(){a(),d=!1},g=function(){var a=d?f:e;a()},h=function(){return d};return{on:e,off:f,toggle:g,isOn:h}}}),g("19",["1p","i"],function(a,b){var c=function(a,b){a.dom().classList.add(b)},d=function(a,c){var d=a.dom().classList;d.remove(c),0===d.length&&b.remove(a,"class")},e=function(a,b){return a.dom().classList.toggle(b)},f=function(b,c){var d=b.dom().classList,e=function(){d.remove(c)},f=function(){d.add(c)};return a(e,f,g(b,c))},g=function(a,b){var c=a.dom().classList;return void 0!==c&&c.contains(b)};return{add:c,remove:d,toggle:e,toggler:f,has:g}}),g("u",["6","i","19","j","k"],function(a,b,c,d,e){var f=function(a,b){return{type:"label",forName:a,text:b}},g=function(b,c,d){var e;return e=a.map(c,function(a){return{text:d(a.text),value:a.value}}),{type:"listbox",name:b,values:e}},h=function(a,b){return{type:"textbox",name:a,value:b}};return{createLabel:f,createSelectBox:g,createTextInput:h}}),g("7",["6","r","s","t","u","v","w","x","y","i","j","n"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=i.immutableBag(["id","description","repair","element","severity","url"],[]),n=i.immutableBag(["ui","repair"],[]),o={I1:g.some(n({ui:g.some(function(a,b){return[e.createLabel("image-alt",a("a11y.i1.repair.info")),e.createTextInput("image-alt","")]}),repair:function(a,b,d){var e=b.retrieveTextInput("image-alt");return c.changeAlt(a,e,"a11y.i1.repair.errors.empty","a11y.i1.repair.errors.duplicate",d)}})),I2:g.some(n({ui:g.some(function(a,b){var c=b.dom().alt;return[e.createLabel("image-alt",a("a11y.i1.repair.info")),e.createTextInput("image-alt",c)]}),repair:function(a,b,d){var e=b.retrieveTextInput("image-alt");return c.changeAlt(a,e,"a11y.i1.repair.errors.empty","a11y.i1.repair.errors.duplicate",d)}})),T1:g.some(n({ui:g.some(function(a,b){return[e.createLabel("table-caption",a("a11y.t1.repair.info")),e.createTextInput("table-caption","")]}),repair:function(a,b,c){var e=b.retrieveTextInput("table-caption");return d.changeCaption(a,e,"a11y.t1.repair.errors.empty","a11y.t1.repair.errors.duplicate",c)}})),T2:g.some(n({ui:g.some(function(a,b){return[e.createLabel("table-summary",a("a11y.t2.repair.info")),e.createTextInput("table-summary","")]}),repair:function(a,b,c){var e=b.retrieveTextInput("table-summary");return d.changeSummary(a,e,"a11y.t2.repair.errors.empty","a11y.t2.repair.errors.duplicate",c)}})),T3:g.some(n({ui:g.some(function(a,b){var c=l.child(b,"caption").fold(function(){return""},function(a){return a.dom().innerHTML});return[e.createLabel("table-caption",a("a11y.t1.repair.info")),e.createTextInput("table-caption",c)]}),repair:function(a,b,c){var e=b.retrieveTextInput("table-caption");return d.changeCaption(a,e,"a11y.t1.repair.errors.empty","a11y.t1.repair.errors.duplicate",c)}})),T4A:g.none(),T4B:g.some(n({ui:g.some(function(a,b){return[e.createLabel("table-headers",a("a11y.t4b.repair.info")),e.createSelectBox("table-headers",[{text:"a11y.t4c.repair.header.row",value:"row"},{text:"a11y.t4c.repair.header.col",value:"col"}],a)]}),repair:function(a,b,c){var e=b.retrieveSelectInput("table-headers");return d.setHeaders(a,e)}})),T4C:g.some(n({ui:g.some(function(a,b){return[e.createLabel("scope-type",a("a11y.t4c.repair.info")),e.createSelectBox("scope-type",[{text:"a11y.t4c.repair.scope.row",value:"row"},{text:"a11y.t4c.repair.scope.col",value:"col"},{text:"a11y.t4c.repair.scope.rowgroup",value:"rowgroup"},{text:"a11y.t4c.repair.scope.colgroup",value:"colgroup"}],a)]}),repair:function(a,b,c){var e=b.retrieveSelectInput("scope-type");return d.setScope(a,e)}})),D1:g.some(n({ui:g.some(function(a,b){return[e.createLabel("heading-type",a("a11y.d1.repair.info")),e.createSelectBox("heading-type",[{text:"a11y.d1.repair.block.h1",value:"h1"},{text:"a11y.d1.repair.block.h2",value:"h2"},{text:"a11y.d1.repair.block.h3",value:"h3"},{text:"a11y.d1.repair.block.h4",value:"h4"},{text:"a11y.d1.repair.block.h5",value:"h5"},{text:"a11y.d1.repair.block.h6",value:"h6"}],a)]}),repair:function(a,c,d){var e=c.retrieveSelectInput("heading-type");return b.convertToHeading(a,e)}})),D2:g.none(),D3:g.some(n({ui:g.none(),repair:function(a,c,d){return b.joinLinks(a)}}))},p=function(b,c){return a.map(c,function(a){var b=a.rule(),c=b.id().toUpperCase(),d=void 0!==o[c]?o[c]:g.none(),e=b.desckey();return m({id:c,description:e,repair:d,element:k.fromDom(a.element()),url:b.url(),severity:b.severity()})})};return{convert:p}}),g("8",["i"],function(a){var b=function(b,c){var d=a.get(b,c);return d.split(" ")},c=function(c,d){var e=a.has(c,d);return e?b(c,d):[]},d=function(b,c,d){var g=a.has(b,c),h=g?e:f;h(b,c,d)},e=function(b,c,d){var e=a.get(b,c),g=e.concat(" ",d);f(b,c,g)},f=function(b,c,d){a.set(b,c,d)};return{read:c,createOrMerge:d}}),g("9",["6","w","i","j","14"],function(a,b,c,d,e){var f=function(a,b,d){c.set(a,b,d)},g=function(d,e,g,i,j,k){a.each(d,function(b){var d=h(b.severity(),i,j,k).toArray().concat([e]);a.each(d,function(a){c.set(b.element(),a,1)})}),b.from(d[0]).each(function(a){f(a.element(),g,a.severity())})},h=function(a,c,d,e){switch(a){case"info":return b.some(c);case"warning":return b.some(d);case"error":return b.some(e);default:return b.none()}},i=function(b,d,g,h){var i=e.descendants(b,"["+d+"]");a.each(i,function(a){c.remove(a,d)}),f(g,d,h)},j=function(b,d,f,g,h,i){var j=e.descendants(b,"["+d+"]");a.each(j,function(b){a.each([d,f,g,h,i],function(a){c.remove(b,a)}),k(b,d,f)})},k=function(a,b,d){c.remove(a,b),c.remove(a,d)},l=function(a){var b=a.editor(),c=function(b){g(b,a.violation(),a.current(),a.info(),a.warn(),a.error())},e=function(c,e){var f=d.fromDom(b.getBody());i(f,a.current(),c,e)},f=function(){var c=d.fromDom(b.getBody());j(c,a.violation(),a.current(),a.info(),a.warn(),a.error())},h=function(b){k(b,a.violation(),a.current())};return{start:c,moveTo:e,stop:f,exclude:h}};return{start:g,stop:j,exclude:k,moveTo:i,manager:l}}),g("h",["6"],function(a){var b=function(b){var e=c(b),f=function(b){var c=b.split(" "),f=a.map(c,function(a){return d(e,a)});return f.join(" ")};return{resolve:f}},c=function(a){return a.replace(/\./g,"-")},d=function(a,b){return a+"-"+b};return{create:b,cssNamespace:c,cssClass:d}}),g("m",["n"],function(a){var b=function(b){return a.first(b).isSome()},c=function(b,c,d){return a.ancestor(b,c,d).isSome()},d=function(b,c){return a.sibling(b,c).isSome()},e=function(b,c){return a.child(b,c).isSome()},f=function(b,c){return a.descendant(b,c).isSome()},g=function(b,c,d){return a.closest(b,c,d).isSome()};return{any:b,ancestor:c,sibling:d,child:e,descendant:f,closest:g}}),g("2",["h","i","j","k","l","m","n","o"],function(a,b,c,d,e,f,g,h){var i=a.create("ephox-foam"),j=i.resolve("styles"),k="#"+j,l=function(a){if(!f.any(k)){var e=c.fromTag("link");b.set(e,"id",j),b.set(e,"rel","stylesheet"),b.set(e,"href",a);var h=g.first("head").getOrDie("Head element could not be found.");d.append(h,e)}},m=function(){if(f.any(k)){var a=g.first("head").getOrDie("Head element could not be found."),b=g.descendant(a,k).getOrDie("The style element could not be removed");e.remove(b)}};return{resolve:i.resolve,injectStyles:l,removeStyles:m}}),g("a",["6","9","v","2","y","i","19"],function(a,b,c,d,e,f,g){var h="data-"+d.resolve("a11y-current-violation"),i="data-"+d.resolve("a11y-violation"),j="data-"+d.resolve("a11y-severity-info"),k="data-"+d.resolve("a11y-severity-warn"),l="data-"+d.resolve("a11y-severity-error"),m="data-"+d.resolve("accessibility-ignore"),n=e.immutableBag(["editor","violation","current","info","warn","error"],[]),o=function(b){b.on("init",function(c){a.each([m,i,j,k,l,h],function(a){b.serializer.addTempAttr(a)})})},p=function(a){return b.manager(n({editor:a,violation:i,current:h,info:j,warn:k,error:l}))};return{configure:o,ignoreAttr:c.constant(m),manager:p}}),h("3",tinymce),g("b",["3"],function(a){var b={"a11y.widget.title":"Accessibility Checker","a11y.widget.issue.none":"No accessibility issues detected.","a11y.widget.index.1":"Issue ","a11y.widget.index.2":" of ","a11y.i1.description":"Images must have alternative text.","a11y.i1.repair.info":"Add alternative text:","a11y.i1.repair.errors.empty":"Text cannot be empty.","a11y.i1.repair.errors.duplicate":"Text cannot be the same as the filename.","a11y.i2.description":"Alternative text must not be the same as the image filename.","a11y.t1.description":"Tables must have captions.","a11y.t1.repair.info":"Set table caption:","a11y.t1.repair.errors.empty":"Caption cannot be empty.","a11y.t1.repair.errors.duplicate":"Caption cannot be the same as the summary.","a11y.t2.description":"Complex tables should have summaries.","a11y.t2.repair.info":"Set table summary.","a11y.t2.repair.errors.empty":"Summary cannot be empty.","a11y.t2.repair.errors.duplicate":"Table summary cannot be the same as table caption.","a11y.t3.description":"Table caption and summary cannot have the same value.","a11y.t4a.description":"Tables must contain rows and cells.","a11y.t4b.description":"Tables must have at least one header.","a11y.t4b.repair.info":"Set table header:","a11y.t4c.repair.header.row":"Header Row","a11y.t4c.repair.header.col":"Header Column","a11y.t4c.description":"Table headers must be associated with cells.","a11y.t4c.repair.info":"Set header scope:","a11y.t4c.repair.scope.row":"Row","a11y.t4c.repair.scope.col":"Column","a11y.t4c.repair.scope.rowgroup":"Row Group","a11y.t4c.repair.scope.colgroup":"Column Group","a11y.d1.description":"Paragraph cannot be used in place of heading.","a11y.d1.repair.info":"Choose a heading level:","a11y.d1.repair.block.h1":"Heading 1","a11y.d1.repair.block.h2":"Heading 2","a11y.d1.repair.block.h3":"Heading 3","a11y.d1.repair.block.h4":"Heading 4","a11y.d1.repair.block.h5":"Heading 5","a11y.d1.repair.block.h6":"Heading 6","a11y.d2.description":"Heading order must be sequential.","a11y.d3.description":"Adjacent links should be merged.","a11y.d4.description":"Use list markup for lists.","a11y.d5.description":"Visual presentation must have a contrast ratio of at least 4.5:1."},c=function(a){return b[a]},d=function(b){return a.translate(c(b))};return{translate:d}}),h("1a",tinymce.ui.Window),g("c",["1a"],function(a){return function(b){var c,d={},e=function(){c=new a({title:"Accessibility Checker",spacing:5,padding:10,minWidth:300,layout:"flex",direction:"column",align:"stretch",items:[{type:"label",name:"index",text:"Index",padding:"0 0 5 0"},{type:"infobox",name:"description",text:"Description",padding:"0 0 5 0",onclick:"moreinfo"},{type:"container",layout:"flex",direction:"column",align:"stretch",name:"repairer",padding:"5 0 5 0",items:[]},{type:"label",name:"validation",hidden:!0,classes:"error"},{type:"container",name:"footer",layout:"flex",direction:"row",spacing:3,items:[{type:"button",name:"repair",text:"Repair",onclick:"repair"},{type:"button",text:"Ignore",onclick:"ignore"},{type:"spacer",flex:1},{type:"button",text:"Prev",onclick:"prev"},{type:"button",text:"Next",autofocus:!0,subtype:"primary",onclick:"next"}]}]}),c.on("submit",function(a){a.preventDefault(),d.repair()}),c.modal=!1,c.on("open",function(){h()}),c.on("close",function(){d.close()}),c.on("execute",function(a){"moreinfo"===a.action?d.moreinfo(a.control.settings.url):d[a.action]()}),b.on("remove",function(){c&&c.close()}),c.renderTo().reflow(),c.moveTo(0,0)},f=function(){c&&(c.close(),c=null)},g=function(a){return"BODY"==a.nodeName&&(a=a.parentNode),a.scrollHeight>a.clientHeight},h=function(){if(c){var a=b.inline?b.getElement():b.getContentAreaContainer();c.moveRel(a,"tr-tr"),c.moveBy(g(b.getBody())?-25:-10,10)}};return{actions:d,open:e,close:f,reposition:h,setIndexText:function(a){c.find("#index").show().text(a)},hideIndex:function(){c.find("#index").hide()},setDescriptionText:function(a,b){var d=c.find("#description")[0].show();
d.severity(b),d.text(a),d.reflow()},setUrl:function(a){var b=c.find("#description")[0];b.help(!0),b.settings.url=a},hideUrl:function(){c.find("#description")[0].help(!1)},setRepairerChildren:function(a){var b;b=c.find("#repairer")[0],b.items().remove(),b.append(a),b.renderNew()},hideFooter:function(){c.find("#footer").hide()},hideRepairer:function(){c.find("#repairer").hide()},showRepairer:function(){c.find("#repairer").show()},hideRepairButton:function(){c.find("#repair").hide()},showRepairButton:function(){c.find("#repair").show()},setValidationInformation:function(a){c.find("#validation").show().text(a)},hideValidation:function(){c.find("#validation").hide()},retrieveTextInput:function(a){return c.find("#"+a).value()},retrieveSelectInput:function(a){return c.find("#"+a).value()}}}}),g("d",["y"],function(a){return a.immutableBag(["rules"],[])}),g("e",["y"],function(a){return a.immutableBag(["rule","element"],[])}),g("2o",[],function(){return Function("return this;")()}),g("2i",["2o"],function(a){var b=function(b,c){for(var d=c||a,e=0;e<b.length&&void 0!==d&&null!==d;++e)d=d[b[e]];return d},c=function(a,c){var d=a.split(".");return b(d,c)};return{path:b,resolve:c}}),g("29",["2i"],function(a){var b=function(b,c){return a.resolve(b,c)},c=function(a,c){var d=b(a,c);if(void 0===d)throw a+" not available on this browser";return d};return{getOrDie:c}}),g("1q",["29"],function(a){return function(){var b=a.getOrDie("NodeFilter");return b}}),h("1r",Node),g("1b",["6","1q","e","1r","o"],function(a,b,c,d,e){var f=b().FILTER_ACCEPT,g=b().SHOW_ELEMENT,h=function(a){return f},i=function(b,d){return a.bind(d,function(a){return a.check()(b)?[c({rule:a,element:b})]:[]})},j=function(b,d){return a.bind(d,function(d){return a.map(d.check()(b),function(a){return c({rule:d,element:a})})})},k=function(a,b){return a===b?0:0!==(a.compareDocumentPosition(b)&d.DOCUMENT_POSITION_PRECEDING)?1:-1},l=function(b,c){for(var d=[],f=a.partition(c,function(a){return a.walkable()}),l=f.pass,m=f.fail,n=e.createTreeWalker(b,g,h,!1);n.nextNode();)d=d.concat(i(n.currentNode,l));var o=j(b,m);return d=d.concat(o),d.sort(function(a,b){return k(a.element(),b.element())}),d};return{audit:l}}),g("f",["1b"],function(a){return function(b){var c=function(c){return a.audit(c,b.rules())};return{audit:c}}}),g("2a",["y"],function(a){return a.immutableBag(["id","wcag","severity","desckey","url","walkable","check"],[])}),g("2b",["v"],function(a){return{error:a.constant("error"),warning:a.constant("warning"),info:a.constant("info")}}),g("2c",[],function(){var a=function(a,b){return a.matches?a.matches(b):a.webkitMatchesSelector?a.webkitMatchesSelector(b):a.mozMatchesSelector?a.mozMatchesSelector(b):a.msMatchesSelector?a.msMatchesSelector(b):!1};return{match:a}}),g("1s",["6","2a","2b","2c"],function(a,b,c,d){var e=function(b){return a.forall(b.childNodes,function(a){return/^(b|strong)$/i.test(a.nodeName)})},f=function(a){return d.match(a,"p")?e(a):!1};return b({id:"D1",wcag:"1.3.1",severity:c.warning(),desckey:"a11y.d1.description",url:"http://www.w3.org/TR/UNDERSTANDING-WCAG20/content-structure-separation-programmatic.html",walkable:!0,check:f})}),g("1t",["6","2a","2b"],function(a,b,c){var d=function(b){var c,d=b.querySelectorAll("h1, h2, h3, h4, h5, h6"),e=[];return a.each(d,function(a){var b=parseInt(a.tagName.slice(1),10);c&&b-c>1&&e.push(a),c=b}),e};return b({id:"D2",wcag:"1.3.1",severity:c.error(),desckey:"a11y.d2.description",url:"http://www.w3.org/TR/UNDERSTANDING-WCAG20/content-structure-separation-programmatic.html",walkable:!1,check:d})}),g("1u",["6","2a","2b"],function(a,b,c){var d=function(b){return a.filter(b.querySelectorAll("a + a"),function(a){return a.href===a.previousSibling.href})};return b({id:"D3",wcag:"2.4.4",severity:c.error(),desckey:"a11y.d3.description",url:"http://www.w3.org/TR/UNDERSTANDING-WCAG20/navigation-mechanisms-refs.html",walkable:!1,check:d})}),g("2d",[],function(){var a=function(a){for(var b=a.nextSibling;null!==b&&("#text"===b.nodeName||"BR"===b.nodeName);)b=b.nextSibling;return b},b=function(b){var c=b.nodeName,d=a(b);return null!==d&&d.nodeName===c?d:!1},c=function(a,c){for(var d=b(a),e=c(a)?[a]:[];d!==!1&&c(d);)e.push(d),d=b(d);return e},d=function(a,b){for(var c=-1,d=0;d<a.length;d++)if(a[d]===b){c=d;break}return c},e=function(a,b){for(var e=a.querySelectorAll("p,h1,h2,h3,h4,h5,h6"),f=[],g=0;g<e.length;){var h=e[g],i=c(h,b);if(i.length>1){f.push(i[0]);var j=i[i.length-1],k=d(e,j);g=-1===k?g+1:k}else g++}return f};return{check:e}}),g("1v",["2a","2b","2d"],function(a,b,c){var d=function(a){return a.textContent.match(/^\s{0,}([a-z1-9]|i+)\s{0,}[.)-]/gim)},e=function(a){return c.check(a,d)};return a({id:"D4o",wcag:"1.3.1",severity:b.error(),desckey:"a11y.d4.description",url:"http://www.w3.org/TR/UNDERSTANDING-WCAG20/content-structure-separation-programmatic.html",walkable:!1,check:e})}),g("1w",["2a","2b","2d"],function(a,b,c){var d=function(a){return a.textContent.match(/^\s{0,}(\*|-)\s{0,}/gim)},e=function(a){return c.check(a,d)};return a({id:"D4u",wcag:"1.3.1",severity:b.error(),desckey:"a11y.d4.description",url:"http://www.w3.org/TR/UNDERSTANDING-WCAG20/content-structure-separation-programmatic.html",walkable:!1,check:e})}),g("2p",["y"],function(a){var b=a.immutable("red","green","blue","alpha"),c=function(){return b(255,255,255,1)};return{rgbaColour:b,white:c}}),h("2q",Math),g("2k",["2p","2q"],function(a,b){var c=.2126,d=.7152,e=.0722,f=function(a){var f=function(a){return.03928>=a?a/12.92:b.pow((a+.055)/1.055,2.4)},g=a.red()/255,h=a.green()/255,i=a.blue()/255,j=f(g),k=f(h),l=f(i);return c*j+d*k+e*l},g=function(a,c){var d=b.max(a,c)+.05,e=b.min(a,c)+.05;return d/e},h=function(c,d){var e=c.alpha()+d.alpha()*(1-c.alpha()),f=(c.red()*c.alpha()+d.red()*d.alpha()*(1-c.alpha()))/e,g=(c.green()*c.alpha()+d.green()*d.alpha()*(1-c.alpha()))/e,h=(c.blue()*c.alpha()+d.blue()*d.alpha()*(1-c.alpha()))/e;return a.rgbaColour(b.ceil(f),b.ceil(g),b.ceil(h),e)};return{calculateContrastRatio:g,calculateLuminance:f,composeColour:h}}),g("2r",["w","2p"],function(a,b){var c=function(c){var d=function(c,d,e,f){var g=parseInt(c,10),h=parseInt(d,10),i=parseInt(e,10),j=parseFloat(f);return a.some(b.rgbaColour(g,h,i,j))};if("transparent"===c)return d(0,0,0,0);var e=c.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/);if(null!==e)return d(e[1],e[2],e[3],1);var f=c.match(/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/);return null!==f?d(f[1],f[2],f[3],f[4]):a.none()};return{parseColour:c}}),h("2u",isFinite),h("2v",isNaN),h("2w",parseFloat),g("2t",["2q","2u","2v","2w"],function(a,b,c,d){var e=function(a){return function(b,c){var d=typeof c;if(d!==a)throw b+" was not a "+a+". Was: "+c+" ("+d+")"}},f=e("string"),g=function(a,b){f(a,b);var c=b.length;if(1!==c)throw a+" was not a single char. Was: "+b},h=e("number"),i=function(b,c){if(h(b,c),c!==a.abs(c))throw b+" was not an integer. Was: "+c},j=function(a){return!c(d(a))&&b(a)},k=function(a,b){if(i(a,b),0>b)throw a+" was not a natural number. Was: "+b};return{vString:f,vChar:g,vInt:i,vNat:k,pNum:j}}),g("2s",["2t"],function(a){var b=function(a,b,c){if(""===b)return!0;if(a.length<b.length)return!1;var d=a.substr(c,c+b.length);return d===b},c=function(a,b){var c=function(a){var b=typeof a;return"string"===b||"number"===b};return a.replace(/\${([^{}]*)}/g,function(a,d){var e=b[d];return c(e)?e:a})},d=function(a){var b=function(a,b){for(var c=[],d=0;d<a.length;d++)c.push(b(a[d]));return c};return function(){var c=b(arguments,function(a){return"string"==typeof a?a.toLowerCase():a});return a.apply(this,c)}},e=function(a,c){return b(a,c,0)},f=d(e),g=function(a,c){return b(a,c,a.length-c.length)},h=d(g),i=function(a,b){return a.substr(0,b)},j=function(a,b){return a.substr(a.length-b,a.length)},k=function(a,b){return function(c,d){return a(c,d)?b(c,c.length-d.length):c}},l=k(e,j),m=k(g,i),n=function(a,b){return a+b},o=function(a,b){return b+a},p=function(a,b){return function(c,d){return a(c,d)?c:b(c,d)}},q=p(e,o),r=p(g,n),s=function(a){return a.replace(/^\s+|\s+$/g,"")},t=function(a){return a.replace(/^\s+/g,"")},u=function(a){return a.replace(/\s+$/g,"")},v=function(a,b){return-1!=a.indexOf(b)},w=d(v),x=function(a){return a.replace(/\"/gm,"&quot;")},y=function(a,b){return a===b},z=d(y),A=function(a){if(""===a)throw"head on empty string";return a.substr(0,1)},B=function(a){if(""===a)throw"toe on empty string";return a.substr(a.length-1,a.length)},C=function(a){if(""===a)throw"tail on empty string";return a.substr(1,a.length-1)},D=function(a){if(""===a)throw"torso on empty string";return a.substr(0,a.length-1)},E=function(a){return""===a?a:A(a).toUpperCase()+C(a)},F=function(b,c){a.vString("str",b),a.vNat("num",c);for(var d="",e=0;c>e;e++)d+=b;return d},G=function(b){return function(c,d,e){a.vString("str",c),a.vChar("c",d),a.vNat("width",e);var f=c.length;return f>=e?c:b(c,F(d,e-f))}},H=G(function(a,b){return b+a}),I=G(function(a,b){return a+b});return{supplant:c,startsWith:e,startsWithIgnoringCase:f,endsWith:g,endsWithIgnoringCase:h,first:i,last:j,removeLeading:l,removeTrailing:m,ensureLeading:q,ensureTrailing:r,trim:s,lTrim:t,rTrim:u,contains:v,containsIgnoringCase:w,htmlEncodeDoubleQuotes:x,equals:y,equalsIgnoringCase:z,head:A,repead:F,padLeft:H,padRight:I,toe:B,tail:C,torso:D,capitalize:E}}),h("4",window),g("2l",["z","6","10","w","i","28","j","11","2s","12","13","4"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=function(b,c,d){if(!a.isString(d))throw k.error("Invalid call to CSS.set. Property ",c,":: Value ",d,":: Element ",b),new j("CSS value must be a string: "+d);b.style.setProperty(c,d)},n=function(a,b,c){var d=a.dom();m(d,b,c)},o=function(a,b){var d=a.dom();c.each(b,function(a,b){m(d,b,a)})},p=function(a,b){var c=a.dom(),d=l.getComputedStyle(c),e=d.getPropertyValue(b),g=""!==e||f.inBody(a)?e:q(c,b);return null===g?void 0:g},q=function(a,b){return a.style.getPropertyValue(b)},r=function(a,b){var c=a.dom(),e=q(c,b);return d.from(e).filter(function(a){return a.length>0})},s=function(a,b,c){var d=g.fromTag(a);n(d,b,c);var e=r(d,b);return e.isSome()},t=function(a,b){var c=a.dom();c.style.removeProperty(b),e.has(a,"style")&&""===i.trim(e.get(a,"style"))&&e.remove(a,"style")},u=function(a,b){var c=e.get(a,"style"),d=b(a),f=void 0===c?e.remove:e.set;return f(a,"style",c),d},v=function(a,b){b.dom().style.cssText=a.dom().style.cssText},w=function(a){return a.dom().offsetWidth},x=function(a,b,c){r(a,c).each(function(a){r(b,c).isNone()&&n(b,c,a)})},y=function(a,c,d){h.isElement(a)&&h.isElement(c)&&b.each(d,function(b){x(a,c,b)})};return{copy:v,set:n,preserve:u,setAll:o,remove:t,get:p,getRaw:r,isValidValue:s,reflow:w,transfer:y}}),g("2j",["6","w","2k","2p","2r","28","1i","2l","17"],function(a,b,c,d,e,f,g,h,i){var j=function(a,b){var c=h.get(a,"opacity");return 1>c?d.rgbaColour(b.red(),b.green(),b.blue(),b.alpha()*c):b},k=function(k){var l=i.owner(k),m=f.getBody(l),n=[k].concat(i.parents(k,function(a){return g.eq(a,m)})),o=a.foldl(n,function(a,d){if(1===a.alpha())return a;var f=h.get(d,"background-color");return e.parseColour(f).bind(function(e){var f=j(d,e);return f.alpha()>0?b.some(c.composeColour(a,f)):b.none()}).getOr(a)},d.rgbaColour(0,0,0,0)),p=o.alpha()<1?c.composeColour(o,d.white()):o;return p},l=function(a,d){var f=h.get(a,"color");return e.parseColour(f).bind(function(e){var f=j(a,e),g=f.alpha()<1?c.composeColour(f,d):f;return b.some(g)})};return{getBackgroundColor:k,getForegroundColor:l}}),g("2e",["v","2j","2k"],function(a,b,c){var d=function(d,e){var f=b.getBackgroundColor(d);return b.getForegroundColor(d,f).fold(a.constant(!1),function(a){var b=c.calculateLuminance(f),d=c.calculateLuminance(a),g=c.calculateContrastRatio(d,b);return e>g})};return{check:d}}),h("2m",Number),h("2n",RegExp),g("2f",["v","w","28","2l","17","2m","2n"],function(a,b,c,d,e,f,g){var h=19,i=24,j=700,k=function(a){var b=function(a){var b=/^[0-9]*$/.test(a);return b?parseInt(a,10)>=j:!1},c=d.get(a,"font-weight"),e="bold"===c||"bolder"===c;return e?!0:b(c)},l=function(a){var c=d.get(a,"font-size"),e=new g(".*px").test(c),h=c.match(/(\d*\.?\d*)(.*)/);return e&&null!==h?b.some(f(h[1])):b.none()},m=function(b){var d=k(b),f=e.owner(b),g=c.getBody(f),j=l(g),m=l(b);return m.fold(a.constant(!1),function(a){return j.fold(function(){return a>=i||d&&a>=h},function(b){return a>=1.5*b||d&&a>=1.2*b})})};return{isLargeFont:m}}),g("2g",["6","11","17"],function(a,b,c){var d=function(d){var e=c.children(d),f=a.filter(e,function(a){return b.isText(a)&&b.value(a).trim().length>0});return f.length>0};return{hasNonEmptyTextChild:d}}),g("1x",["2a","2b","2e","2f","2g","j"],function(a,b,c,d,e,f){var g=function(a){var b=3,g=f.fromDom(a);return e.hasNonEmptyTextChild(g)&&d.isLargeFont(g)&&c.check(g,b)};return a({id:"D5a",wcag:"1.4.3",severity:b.error(),desckey:"a11y.d5a.description",url:"https://www.w3.org/TR/UNDERSTANDING-WCAG20/visual-audio-contrast-contrast.html",walkable:!0,check:g})}),g("1y",["2a","2b","2e","2f","2g","j"],function(a,b,c,d,e,f){var g=function(a){var b=4.5,g=f.fromDom(a);return e.hasNonEmptyTextChild(g)&&!d.isLargeFont(g)&&c.check(g,b)};return a({id:"D5b",wcag:"1.4.3",severity:b.error(),desckey:"a11y.d5b.description",url:"https://www.w3.org/TR/UNDERSTANDING-WCAG20/visual-audio-contrast-contrast.html",walkable:!0,check:g})}),g("1z",["2a","2b","2c"],function(a,b,c){var d=function(a){return c.match(a,"img")&&(a.hasAttribute("alt")===!1||""===a.getAttribute("alt").trim())};return a({id:"I1",wcag:"1.1.1",severity:b.error(),desckey:"a11y.i1.description",url:"http://www.w3.org/TR/UNDERSTANDING-WCAG20/text-equiv-all.html",walkable:!0,check:d})}),g("20",["2a","2b","2c"],function(a,b,c){var d=function(a){return c.match(a,"img[alt][src]")&&a.src.split("/").pop()===a.alt.split("/").pop()};return a({id:"I2",wcag:"1.1.1",severity:b.error(),desckey:"a11y.i2.description",url:"http://www.w3.org/TR/UNDERSTANDING-WCAG20/text-equiv-all.html",walkable:!0,check:d})}),g("21",["2a","2b","2c"],function(a,b,c){var d=function(a){if(c.match(a,"table")){var b=a.querySelector("caption");return b?c.match(b,":empty"):!0}return!1};return a({id:"T1",wcag:"1.3.1",severity:b.error(),desckey:"a11y.t1.description",url:"http://www.w3.org/TR/UNDERSTANDING-WCAG20/content-structure-separation-programmatic.html",walkable:!0,check:d})}),g("22",["2a","2b","2c"],function(a,b,c){var d=function(a){return c.match(a,"table")&&(a.querySelector("[rowspan]")||a.querySelector("[colspan]"))&&!a.hasAttribute("summary")};return a({id:"T2",wcag:"1.3.1",severity:b.warning(),desckey:"a11y.t2.description",url:"http://www.w3.org/TR/UNDERSTANDING-WCAG20/content-structure-separation-programmatic.html",walkable:!0,check:d})}),g("23",["2a","2b","2c"],function(a,b,c){var d=function(a){return c.match(a,"table")&&a.hasAttribute("summary")&&a.querySelectorAll("caption").length>0&&a.getAttribute("summary")===a.querySelector("caption").innerHTML};return a({id:"T3",wcag:"1.3.1",severity:b.error(),desckey:"a11y.t3.description",url:"http://www.w3.org/TR/UNDERSTANDING-WCAG20/content-structure-separation-programmatic.html",walkable:!0,check:d})}),g("24",["2a","2b"],function(a,b){var c=function(a){return"table"===a.nodeName.toLowerCase()&&0===a.querySelectorAll("th").length};return a({id:"T4b",wcag:"1.3.1",severity:b.error(),desckey:"a11y.t4b.description",url:"http://www.w3.org/TR/UNDERSTANDING-WCAG20/content-structure-separation-programmatic.html",walkable:!0,check:c})}),g("25",["2a","2b"],function(a,b){var c=function(a){var b=a.hasAttribute("scope")===!1,c=/row|col|rowgroup|colgroup/i.test(a.getAttribute("scope"))===!1;return b||c},d=function(a){return"th"===a.nodeName.toLowerCase()?c(a):!1};return a({id:"T4c",wcag:"1.3.1",severity:b.error(),desckey:"a11y.t4c.description",url:"http://www.w3.org/TR/UNDERSTANDING-WCAG20/content-structure-separation-programmatic.html",walkable:!0,check:d})}),g("26",["2a","2b"],function(a,b){var c=function(a,b){return 0===a.querySelectorAll(b).length},d=function(a){return c(a,"tr")||c(a,"td")},e=function(a){return"table"===a.nodeName.toLowerCase()?d(a):!1};return a({id:"T4a",wcag:"1.3.1",severity:b.error(),desckey:"a11y.t4a.description",url:"http://www.w3.org/TR/UNDERSTANDING-WCAG20/content-structure-separation-programmatic.html",walkable:!0,check:e})}),g("1c",["6","v","w","1s","1t","1u","1v","1w","1x","1y","1z","20","21","22","23","24","25","26"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s=[d,e,f,g,h,i,j,k,l,m,n,o,q,r,p],t=function(b){return c.from(a.find(s,function(a){return a.name()===b}))};return{get:t,all:b.constant(s)}}),g("g",["1c"],function(a){var b=function(b){return a.get(b)},c=function(){return a.all().slice()};return{get:b,all:c}}),g("1",["6","7","8","9","a","b","c","d","e","f","g","4"],function(a,b,c,d,e,f,g,h,i,j,k,l){return function(d,i){var m,n,o,p,q=k.all(),r=h({rules:q});e.configure(d);var s=j(r),t=e.manager(d),u=e.ignoreAttr(),v=function(){var e=s.audit(d.getBody());n=b.convert(d,e),n=a.filter(n,function(b){var d=b.element(),e=c.read(d,u);return a.forall(e,function(a){return b.id()!==a})})},w=function(){o?y():(m=0,o=!0,v(),x(),n.length>0?(t.start(n),A(n[0],1)):C())},x=function(){p=new g(d),p.actions.close=function(){t.stop(),o=!1,n=[]},p.actions.ignore=function(){c.createOrMerge(n[m].element(),u,n[m].id()),B()},p.actions.moreinfo=function(a){l.open(a,"","height=700,width=820,resizable=yes,scrollbars=yes")},p.actions.prev=G,p.actions.next=H,p.open()},y=function(){p&&p.close()},z=function(){p&&p.reposition()},A=function(a,b){p.hideValidation(),p.setIndexText(f.translate("a11y.widget.index.1")+b+f.translate("a11y.widget.index.2")+n.length),p.setDescriptionText(f.translate(a.description()),a.severity()),p.setUrl(a.url()),a.repair().fold(E,function(b){F(b,a)}),z(),d.selection.scrollIntoView(a.element().dom())},B=function(){n=n.slice(0,m).concat(n.slice(m+1)),n.length>0?(m=m<n.length-1?m:0,D(n[m])):(v(),n.length>0?D(n[0]):C()),z()},C=function(){p.hideIndex(),p.hideUrl(),p.hideRepairer(),p.hideValidation(),p.hideFooter(),p.setDescriptionText(f.translate("a11y.widget.issue.none"),"success")},D=function(a){A(a,m+1),t.moveTo(a.element(),a.severity())},E=function(){p.hideRepairer(),p.hideRepairButton()},F=function(a,b){a.ui().fold(E,function(a){p.setRepairerChildren(a(f.translate,b.element())),p.showRepairer()}),p.showRepairButton(),p.actions.repair=function(){d.undoManager.transact(function(){var c=a.repair()(b.element(),p,f.translate);c.fold(function(a){p.setValidationInformation(a),z()},function(){B()})})}},G=function(){n.length>0&&(m=m>0?m-1:n.length-1,D(n[m]))},H=function(){n.length>0&&(m=m<n.length-1?m+1:0,D(n[m]))};return{audit:w,stopAuditing:y,rampaging:o,positionDialog:z}}}),h("5",tinymce.util.Delay),g("0",["1","2","3","4","5"],function(a,b,c,d,e){return function(d){var f=function(f,g){var h,i=a(f,g,d),j=function(){i.audit()};return f.addButton("a11ycheck",{tooltip:"Check Accessibility",icon:"a11y",onclick:j}),f.addMenuItem("a11ycheck",{text:"Check Accessibility",context:"tools",onclick:j}),h=(d?d.cssUrl:g)+"/css/annotations.css",f.on("init",function(a){f.dom.loadCSS(h)}),f.on("remove",function(a){1===c.editors.length&&b.removeStyles()}),f.on("ResizeWindow",function(){e.requestAnimationFrame(function(){i.positionDialog()})}),f.on("ScrollWindow",function(){i.positionDialog()}),f.on("ResizeEditor",function(){i.positionDialog()}),f.on("click",function(){i.stopAuditing()}),f.on("keydown",function(){i.stopAuditing()}),{toggleaudit:j}};c.PluginManager.add("a11ychecker",f)}}),d("0")()}();